{"_values": ["Creator     : groff version 1.22.4", "CreationDate: Tue Feb  1 14:18:38 2022", "html PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\"\n\"http://www.w3.org/TR/html4/loose.dtd\""], "html": [{"head": [{"meta": [{"_attributes": {"name": "generator", "content": "groff -Thtml, see www.gnu.org"}}, {"_attributes": {"http-equiv": "Content-Type", "content": "text/html; charset=US-ASCII"}}, {"_attributes": {"name": "Content-Style", "content": "text/css"}}], "style": [{"_attributes": {"type": "text/css"}, "_value": "p       { margin-top: 0; margin-bottom: 0; vertical-align: top }\n       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }\n       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }\n       h1      { text-align: center }"}], "title": [{"_value": "PKCS12"}]}], "body": [{"h1": [{"_attributes": {"align": "center"}, "_value": "PKCS12"}], "a": [{"_attributes": {"href": "#NAME"}, "_value": "NAME"}, {"_attributes": {"href": "#SYNOPSIS"}, "_value": "SYNOPSIS"}, {"_attributes": {"href": "#DESCRIPTION"}, "_value": "DESCRIPTION"}, {"_attributes": {"href": "#COMMAND OPTIONS"}, "_value": "COMMAND OPTIONS"}, {"_attributes": {"href": "#PARSING OPTIONS"}, "_value": "PARSING OPTIONS"}, {"_attributes": {"href": "#FILE CREATION OPTIONS"}, "_value": "FILE CREATION OPTIONS"}, {"_attributes": {"href": "#NOTES"}, "_value": "NOTES"}, {"_attributes": {"href": "#EXAMPLES"}, "_value": "EXAMPLES"}, {"_attributes": {"href": "#BUGS"}, "_value": "BUGS"}, {"_attributes": {"href": "#SEE ALSO"}, "_value": "SEE ALSO"}], "br": [{}, {}, {}, {}, {}, {}, {}, {}, {}, {}], "hr": [{}, {}], "h2": [{"_value": "NAME", "a": [{"_attributes": {"name": "NAME"}}]}, {"_value": "SYNOPSIS", "a": [{"_attributes": {"name": "SYNOPSIS"}}]}, {"_value": "DESCRIPTION", "a": [{"_attributes": {"name": "DESCRIPTION"}}]}, {"_value": "COMMAND OPTIONS", "a": [{"_attributes": {"name": "COMMAND OPTIONS"}}]}, {"_value": "PARSING OPTIONS", "a": [{"_attributes": {"name": "PARSING OPTIONS"}}]}, {"_value": "FILE CREATION OPTIONS", "a": [{"_attributes": {"name": "FILE CREATION OPTIONS"}}]}, {"_value": "NOTES", "a": [{"_attributes": {"name": "NOTES"}}]}, {"_value": "EXAMPLES", "a": [{"_attributes": {"name": "EXAMPLES"}}]}, {"_value": "BUGS", "a": [{"_attributes": {"name": "BUGS"}}]}, {"_value": "SEE ALSO", "a": [{"_attributes": {"name": "SEE ALSO"}}]}], "p": [{"_attributes": {"style": "margin-left:11%; margin-top: 1em"}, "_value": "pkcs12 -\nPKCS#12 file utility"}, {"_attributes": {"style": "margin-left:11%; margin-top: 1em"}, "b": [{"_value": "openssl\npkcs12"}, {"_value": "-export"}, {"_value": "-chain"}, {"_value": "-inkey\nfilename"}, {"_value": "-certfile filename"}, {"_value": "-name\nname"}, {"_value": "-caname name"}, {"_value": "-in filename"}, {"_value": "-out filename"}, {"_value": "-noout"}, {"_value": "-nomacver"}, {"_value": "-nocerts"}, {"_value": "-clcerts"}, {"_value": "-cacerts"}, {"_value": "-nokeys"}, {"_value": "-info"}, {"_value": "-des"}, {"_value": "-des3"}, {"_value": "-idea"}, {"_value": "-nodes"}, {"_value": "-noiter"}, {"_value": "-maciter"}, {"_value": "-twopass"}, {"_value": "-descert"}, {"_value": "-certpbe"}, {"_value": "-keypbe"}, {"_value": "-keyex"}, {"_value": "-keysig"}, {"_value": "-password arg"}, {"_value": "-passin arg"}, {"_value": "-passout arg"}, {"_value": "-rand file(s)"}], "_values": ["[", "] [", "] [", "] [", "] [", "] [", "] [", "]\n[", "] [", "] [", "]\n[", "] [", "] [", "]\n[", "] [", "] [", "] [", "]\n[", "] [", "] [", "]\n[", "] [", "] [", "]\n[", "] [", "] [", "]\n[", "] [", "] [", "]\n[", "] [", "]"]}, {"_attributes": {"style": "margin-left:11%; margin-top: 1em"}, "b": [{"_value": "pkcs12"}], "_values": ["The", "command allows PKCS#12 files (sometimes\nreferred to as", "files) to be created and\nparsed. PKCS#12 files are used by several programs including\nNetscape,", "and", "Outlook."], "small": [{"_value": "PFX"}, {"_value": "MSIE"}, {"_value": "MS"}]}, {"_attributes": {"style": "margin-left:11%; margin-top: 1em"}, "b": [{"_value": "-export"}], "_values": ["There are a lot\nof options the meaning of some depends of whether a PKCS#12\nfile is being created or parsed. By default a PKCS#12 file\nis parsed a PKCS#12 file can be created by using the", "option (see below)."]}, {"_attributes": {"style": "margin-left:11%; margin-top: 1em"}, "b": [{"_value": "-in\nfilename"}]}, {"_attributes": {"style": "margin-left:17%;"}, "_value": "This specifies filename of the\nPKCS#12 file to be parsed. Standard input is used by\ndefault."}, {"_attributes": {"style": "margin-left:11%;"}, "b": [{"_value": "-out filename"}]}, {"_attributes": {"style": "margin-left:17%;"}, "small": [{"_value": "PEM"}], "_values": ["The filename to write\ncertificates and private keys to, standard output by\ndefault. They are all written in", "format."]}, {"_attributes": {"style": "margin-left:11%;"}, "b": [{"_value": "-pass arg"}, {"_value": "-passin\narg"}], "_value": ","}, {"_attributes": {"style": "margin-left:17%;"}, "b": [{"_value": "arg"}, {"small": [{"_value": "PASS PHRASE\nARGUMENTS"}]}, {"_value": "openssl"}], "_values": ["the PKCS#12 file (i.e. input\nfile) password source. For more information about the format\nof", "see the", "section in", "(1)."]}, {"_attributes": {"style": "margin-left:11%;"}, "b": [{"_value": "-passout arg"}]}, {"_attributes": {"style": "margin-left:17%;"}, "b": [{"_value": "arg"}, {"small": [{"_value": "PASS PHRASE\nARGUMENTS"}]}, {"_value": "openssl"}], "_values": ["pass phrase source to encrypt\nany outputed private keys with. For more information about\nthe format of", "see the", "section in", "(1)."]}, {"_attributes": {"style": "margin-left:11%;"}, "b": [{"_value": "-noout"}]}, {"_attributes": {"style": "margin-left:17%;"}, "_value": "this option inhibits output of\nthe keys and certificates to the output file version of the\nPKCS#12 file."}, {"_attributes": {"style": "margin-left:11%;"}, "b": [{"_value": "-clcerts"}]}, {"_attributes": {"style": "margin-left:17%;"}, "small": [{"_value": "CA"}], "_values": ["only output client certificates\n(not", "certificates)."]}, {"_attributes": {"style": "margin-left:11%;"}, "b": [{"_value": "-cacerts"}]}, {"_attributes": {"style": "margin-left:17%;"}, "small": [{"_value": "CA"}], "_values": ["only output", "certificates (not client certificates)."]}, {"_attributes": {"style": "margin-left:11%;"}, "b": [{"_value": "-nocerts"}]}, {"_attributes": {"style": "margin-left:17%;"}, "_value": "no certificates at all will be\noutput."}, {"_attributes": {"style": "margin-left:11%;"}, "b": [{"_value": "-nokeys"}]}, {"_attributes": {"style": "margin-left:17%;"}, "_value": "no private keys will be\noutput."}, {"_attributes": {"style": "margin-left:11%;"}, "b": [{"_value": "-info"}]}, {"_attributes": {"style": "margin-left:17%;"}, "_value": "output additional information\nabout the PKCS#12 file structure, algorithms used and\niteration counts."}, {"_attributes": {"style": "margin-left:11%;"}, "b": [{"_value": "-des"}]}, {"_attributes": {"style": "margin-left:17%;"}, "small": [{"_value": "DES"}], "_values": ["use", "to\nencrypt private keys before outputting."]}, {"_attributes": {"style": "margin-left:11%;"}, "b": [{"_value": "-des3"}]}, {"_attributes": {"style": "margin-left:17%;"}, "small": [{"_value": "DES"}], "_values": ["use triple", "to encrypt private keys before outputting, this is the\ndefault."]}, {"_attributes": {"style": "margin-left:11%;"}, "b": [{"_value": "-idea"}]}, {"_attributes": {"style": "margin-left:17%;"}, "small": [{"_value": "IDEA"}], "_values": ["use", "to\nencrypt private keys before outputting."]}, {"_attributes": {"style": "margin-left:11%;"}, "b": [{"_value": "-nodes"}]}, {"_attributes": {"style": "margin-left:17%;"}, "_value": "don\u2019t encrypt the private\nkeys at all."}, {"_attributes": {"style": "margin-left:11%;"}, "b": [{"_value": "-nomacver"}]}, {"_attributes": {"style": "margin-left:17%;"}, "small": [{"_value": "MAC"}], "_values": ["don\u2019t attempt to verify\nthe integrity", "before reading the\nfile."]}, {"_attributes": {"style": "margin-left:11%;"}, "b": [{"_value": "-twopass"}]}, {"_attributes": {"style": "margin-left:17%;"}, "_value": "prompt for separate integrity\nand encryption passwords: most software always assumes these\nare the same so this option will render such PKCS#12 files\nunreadable."}, {"_attributes": {"style": "margin-left:11%; margin-top: 1em"}, "b": [{"_value": "-export"}]}, {"_attributes": {"style": "margin-left:17%;"}, "_value": "This option specifies that a\nPKCS#12 file will be created rather than parsed."}, {"_attributes": {"style": "margin-left:11%;"}, "b": [{"_value": "-out filename"}]}, {"_attributes": {"style": "margin-left:17%;"}, "_value": "This specifies filename to\nwrite the PKCS#12 file to. Standard output is used by\ndefault."}, {"_attributes": {"style": "margin-left:11%;"}, "b": [{"_value": "-in filename"}]}, {"_attributes": {"style": "margin-left:17%;"}, "small": [{"_value": "PEM"}], "_values": ["The filename to read\ncertificates and private keys from, standard input by\ndefault. They must all be in", "format. The\norder doesn\u2019t matter but one private key and its\ncorresponding certificate should be present. If additional\ncertificates are present they will also be included in the\nPKCS#12 file."]}, {"_attributes": {"style": "margin-left:11%;"}, "b": [{"_value": "-inkey filename"}]}, {"_attributes": {"style": "margin-left:17%;"}, "_value": "file to read private key from.\nIf not present then a private key must be present in the\ninput file."}, {"_attributes": {"style": "margin-left:11%;"}, "b": [{"_value": "-name friendlyname"}]}, {"_attributes": {"style": "margin-left:17%;"}, "_value": "This specifies the\n\"friendly name\" for the certificate and private\nkey. This name is typically displayed in list boxes by\nsoftware importing the file."}, {"_attributes": {"style": "margin-left:11%;"}, "b": [{"_value": "-certfile filename"}]}, {"_attributes": {"style": "margin-left:17%;"}, "_value": "A filename to read additional\ncertificates from."}, {"_attributes": {"style": "margin-left:11%;"}, "b": [{"_value": "-caname friendlyname"}]}, {"_attributes": {"style": "margin-left:17%;"}, "small": [{"_value": "MSIE"}], "_values": ["This specifies the\n\"friendly name\" for other certificates. This\noption may be used multiple times to specify names for all\ncertificates in the order they appear. Netscape ignores\nfriendly names on other certificates whereas", "displays them."]}, {"_attributes": {"style": "margin-left:11%;"}, "b": [{"_value": "-pass arg"}, {"_value": "-passout\narg"}], "_value": ","}, {"_attributes": {"style": "margin-left:17%;"}, "b": [{"_value": "arg"}, {"small": [{"_value": "PASS PHRASE\nARGUMENTS"}]}, {"_value": "openssl"}], "_values": ["the PKCS#12 file (i.e. output\nfile) password source. For more information about the format\nof", "see the", "section in", "(1)."]}, {"_attributes": {"style": "margin-left:11%;"}, "b": [{"_value": "-passin password"}]}, {"_attributes": {"style": "margin-left:17%;"}, "b": [{"_value": "arg"}, {"small": [{"_value": "PASS PHRASE\nARGUMENTS"}]}, {"_value": "openssl"}], "_values": ["pass phrase source to decrypt\nany input private keys with. For more information about the\nformat of", "see the", "section in", "(1)."]}, {"_attributes": {"style": "margin-left:11%;"}, "b": [{"_value": "-chain"}]}, {"_attributes": {"style": "margin-left:17%;"}, "small": [{"_value": "CA"}], "_values": ["if this option is present then\nan attempt is made to include the entire certificate chain\nof the user certificate. The standard", "store is used for this search. If the search fails it is\nconsidered a fatal error."]}, {"_attributes": {"style": "margin-left:11%;"}, "b": [{"_value": "-descert"}]}, {"_attributes": {"style": "margin-left:17%;"}, "small": [{"_value": "DES,"}, {"_value": "DES"}, {"_value": "RC2."}], "_values": ["encrypt the certificate using\ntriple", "this may render the PKCS#12 file\nunreadable by some \"export grade\" software. By\ndefault the private key is encrypted using triple", "and the certificate using 40 bit"]}, {"_attributes": {"style": "margin-left:11%;"}, "b": [{"_value": "-keypbe alg"}, {"_value": "-certpbe\nalg"}], "_value": ","}, {"_attributes": {"style": "margin-left:17%;"}, "b": [{"small": [{"_value": "NOTES"}]}], "_values": ["these options allow the\nalgorithm used to encrypt the private key and certificates\nto be selected. Although any PKCS#5 v1.5 or PKCS#12\nalgorithms can be selected it is advisable only to use\nPKCS#12 algorithms. See the list in the", "section for more\ninformation."]}, {"_attributes": {"style": "margin-left:11%;"}, "b": [{"_value": "-keyex|-keysig"}]}, {"_attributes": {"style": "margin-left:17%;"}, "small": [{"_value": "MSIE"}, {"_value": "MS"}, {"_value": "RSA"}, {"_value": "SSL"}, {"_value": "MSIE 5.0"}, {"_value": "SSL"}], "_values": ["specifies that the private key\nis to be used for key exchange or just signing. This option\nis only interpreted by", "and similar", "software. Normally \"export\ngrade\" software will only allow 512 bit", "keys to be used for encryption purposes\nbut arbitrary length keys for signing. The", "option marks the key for signing only. Signing only keys can\nbe used for S/MIME signing, authenticode (ActiveX control\nsigning) and", "client authentication,\nhowever due to a bug only", "and later\nsupport the use of signing only keys for", "client authentication."], "b": [{"_value": "-keysig"}]}, {"_attributes": {"style": "margin-left:11%;"}, "b": [{"_value": "-nomaciter"}, {"_value": "-noiter"}], "_value": ","}, {"_attributes": {"style": "margin-left:17%;"}, "small": [{"_value": "MAC"}, {"_value": "MSIE 4.0"}], "_values": ["these options affect the\niteration counts on the", "and key\nalgorithms. Unless you wish to produce files compatible with", "you should leave these options\nalone."]}, {"_attributes": {"style": "margin-left:17%; margin-top: 1em"}, "small": [{"_value": "MAC"}, {"_value": "MAC"}, {"_value": "MAC"}, {"_value": "MAC"}, {"_value": "MSIE\n4.0"}, {"_value": "MAC"}], "_values": ["To discourage\nattacks by using large dictionaries of common passwords the\nalgorithm that derives keys from passwords can have an\niteration count applied to it: this causes a certain part of\nthe algorithm to be repeated and slows it down. The", "is used to check the file integrity but\nsince it will normally have the same password as the keys\nand certificates it could also be attacked. By default both", "and encryption iteration counts are set\nto 2048, using these options the", "and\nencryption iteration counts can be set to 1, since this\nreduces the file security you should not use these options\nunless you really have to. Most software supports both", "and key iteration counts.", "doesn\u2019t support", "iteration counts so it needs the", "option."], "b": [{"_value": "-nomaciter"}]}, {"_attributes": {"style": "margin-left:11%;"}, "b": [{"_value": "-maciter"}]}, {"_attributes": {"style": "margin-left:17%;"}, "small": [{"_value": "MAC"}], "_values": ["This option is included for\ncompatibility with previous versions, it used to be needed\nto use", "iterations counts but they are now\nused by default."]}, {"_attributes": {"style": "margin-left:11%;"}, "b": [{"_value": "-rand file(s)"}]}, {"_attributes": {"style": "margin-left:17%;"}, "small": [{"_value": "EGD"}], "_values": ["a file or files containing\nrandom data used to seed the random number generator, or an", "socket (see", "(3)). Multiple\nfiles can be specified separated by a OS-dependent\ncharacter. The separator is", "for MS-Windows,", "for OpenVMS, and", "for all others."], "b": [{"_value": "RAND_egd"}, {"_value": ";"}, {"_value": ","}, {"_value": ":"}]}, {"_attributes": {"style": "margin-left:11%; margin-top: 1em"}, "b": [{"_value": "-in"}, {"_value": "-out"}, {"_value": "-export"}, {"_value": "-name"}], "_values": ["Although there\nare a large number of options most of them are very rarely\nused. For PKCS#12 file parsing only", "and", "need to be used for PKCS#12 file creation", "and", "are also used."]}, {"_attributes": {"style": "margin-left:11%; margin-top: 1em"}, "b": [{"_value": "-clcerts"}, {"_value": "-cacerts"}, {"_value": "-nocerts"}, {"_value": "-clcerts"}, {"_value": "-nokeys\n-cacerts"}], "_values": ["If none of the", ",", "or", "options\nare present then all certificates will be output in the\norder they appear in the input PKCS#12 files. There is no\nguarantee that the first certificate present is the one\ncorresponding to the private key. Certain software which\nrequires a private key and certificate and assumes the first\ncertificate in the file is the one corresponding to the\nprivate key: this may not always be the case. Using the", "option will solve this problem by only\noutputting the certificate corresponding to the private key.\nIf the", "certificates are required then they\ncan be output to a separate file using the", "options to just output", "certificates."], "small": [{"_value": "CA"}, {"_value": "CA"}]}, {"_attributes": {"style": "margin-left:11%; margin-top: 1em"}, "b": [{"_value": "-keypbe"}, {"_value": "-certpbe"}, {"_value": "-keypbe", "small": [{"_value": "PBE-SHA1-RC2-40"}]}, {"_value": "pkcs8"}], "_values": ["The", "and", "algorithms allow the\nprecise encryption algorithms for private keys and\ncertificates to be specified. Normally the defaults are fine\nbut occasionally software can\u2019t handle triple", "encrypted private keys, then the option", "can be used to\nreduce the private key encryption to 40 bit", "complete description of all algorithms is\ncontained in the", "manual page."], "small": [{"_value": "DES"}, {"_value": "RC2.\nA"}]}, {"_attributes": {"style": "margin-left:11%; margin-top: 1em"}, "_value": "Parse a PKCS#12\nfile and output it to a file:"}, {"_attributes": {"style": "margin-left:11%; margin-top: 1em"}, "_value": "openssl pkcs12\n-in file.p12 -out file.pem"}, {"_attributes": {"style": "margin-left:11%; margin-top: 1em"}, "_value": "Output only\nclient certificates to a file:"}, {"_attributes": {"style": "margin-left:11%; margin-top: 1em"}, "_value": "openssl pkcs12\n-in file.p12 -clcerts -out file.pem"}, {"_attributes": {"style": "margin-left:11%; margin-top: 1em"}, "_value": "Don\u2019t\nencrypt the private key:"}, {"_attributes": {"style": "margin-left:11%; margin-top: 1em"}, "_value": "openssl pkcs12\n-in file.p12 -out file.pem -nodes"}, {"_attributes": {"style": "margin-left:11%; margin-top: 1em"}, "_value": "Print some info\nabout a PKCS#12 file:"}, {"_attributes": {"style": "margin-left:11%; margin-top: 1em"}, "_value": "openssl pkcs12\n-in file.p12 -info -noout"}, {"_attributes": {"style": "margin-left:11%; margin-top: 1em"}, "_value": "Create a\nPKCS#12 file:"}, {"_attributes": {"style": "margin-left:11%; margin-top: 1em"}, "_value": "openssl pkcs12\n-export -in file.pem -out file.p12 -name \"My\nCertificate\""}, {"_attributes": {"style": "margin-left:11%; margin-top: 1em"}, "_value": "Include some\nextra certificates:"}, {"_attributes": {"style": "margin-left:11%; margin-top: 1em"}, "br": [{}], "_values": ["openssl pkcs12\n-export -in file.pem -out file.p12 -name \"My\nCertificate\" \\", "-certfile othercerts.pem"]}, {"_attributes": {"style": "margin-left:11%; margin-top: 1em"}, "_value": "Some would\nargue that the PKCS#12 standard is one big bug :-)"}, {"_attributes": {"style": "margin-left:11%; margin-top: 1em"}, "small": [{"_value": "MSIE"}], "_values": ["Versions of\nOpenSSL before 0.9.6a had a bug in the PKCS#12 key\ngeneration routines. Under rare circumstances this could\nproduce a PKCS#12 file encrypted with an invalid key. As a\nresult some PKCS#12 files which triggered this bug from\nother implementations (", "or Netscape)\ncould not be decrypted by OpenSSL and similarly OpenSSL\ncould produce PKCS#12 files which could not be decrypted by\nother implementations. The chances of producing such a file\nare relatively small: less than 1 in 256."]}, {"_attributes": {"style": "margin-left:11%; margin-top: 1em"}, "b": [{"_value": "pkcs12"}], "_values": ["A side effect\nof fixing this bug is that any old invalidly encrypted\nPKCS#12 files cannot no longer be parsed by the fixed\nversion. Under such circumstances the", "utility\nwill report that the", "is", "but fail with a decryption error when extracting private\nkeys."], "small": [{"_value": "MAC"}, {"_value": "OK"}]}, {"_attributes": {"style": "margin-left:11%; margin-top: 1em"}, "_value": "This problem\ncan be resolved by extracting the private keys and\ncertificates from the PKCS#12 file using an older version of\nOpenSSL and recreating the PKCS#12 file from the keys and\ncertificates using a newer version of OpenSSL. For\nexample:"}, {"_attributes": {"style": "margin-left:11%; margin-top: 1em"}, "br": [{}], "_values": ["old-openssl -in\nbad.p12 -out keycerts.pem", "openssl -in keycerts.pem -export -name \"My PKCS#12\nfile\" -out fixed.p12"]}, {"_attributes": {"style": "margin-left:11%; margin-top: 1em"}, "b": [{"_value": "pkcs8"}], "_value": "(1)"}]}]}]}